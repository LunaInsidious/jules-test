# mylang

mylang は、Rustで実装されたシンプルなインタプリタ型オブジェクト指向プログラミング言語です。
教育的な目的で作成されており、プログラミング言語の基本的な構成要素（字句解析、構文解析、評価、オブジェクトシステム）の実装例を示すことを目指しています。

## 環境構築

### 1. Rustのインストール

まだRustをインストールしていない場合は、公式ウェブサイトの手順に従ってインストールしてください。
[https://www.rust-lang.org/tools/install](https://www.rust-lang.org/tools/install)

### 2. ソースコードの取得

このリポジトリをクローンします。
```bash
git clone <リポジトリのURL>
cd <リポジトリのディレクトリ名>
```
`<リポジトリのURL>` と `<リポジトリのディレクトリ名>` は実際の値に置き換えてください（現状はプレースホルダーで構いません）。

## ビルド方法

プロジェクトのルートディレクトリで以下のコマンドを実行して、mylangをビルドします。

```bash
cargo build
```
リリースビルドを行う場合は、`--release` フラグを追加します。
```bash
cargo build --release
```

## REPLの起動方法

以下のコマンドでmylangのREPL（対話型実行環境）を起動できます。

```bash
cargo run
```
プロンプト `>>` が表示されたら、コードを入力して実行できます。
REPLを終了するには、`exit` と入力するか、Ctrl+Dを押してください。

## 簡単なコード例

以下は `mylang` のREPLで実行できる簡単なコード例です。

### 変数束縛

```mylang
>> let name = "World";
"World" 
>> name;
"World"
>> let x = 10;
10
```

### クラス定義とメソッド呼び出し

```mylang
>> class Greeter {
..   fn say_hi() {
..     "Hello from mylang!";
..   }
.. }
null
>> let greeter_obj = Greeter();
INSTANCE(Greeter)
>> greeter_obj.say_hi();
"Hello from mylang!"
```

**現在の実装で動作するクラスの例:**
```mylang
>> class Counter {
..  fn initial_value() {
..    0;
..  }
.. }
null
>> let c = Counter();
INSTANCE(Counter)
>> c.initial_value();
0
```

## 現在実装されている機能

*   **変数束縛**: `let` キーワードによる変数の定義。
*   **整数リテラル**: `10`, `0`, `-5` のような整数値。
*   **文字列リテラル**: `"hello"`, `""` のようなダブルクォートで囲まれた文字列。
*   **クラス定義**: `class` キーワードによるクラスの定義。
    *   メソッド定義: クラス内に引数なしのメソッドを定義可能。メソッドは最後に評価された式の値を返します。
*   **インスタンス生成**: 定義したクラスのインスタンスを作成可能。例: `let my_obj = MyClass();`
*   **メソッド呼び出し**: インスタンスのメソッドを呼び出し可能（引数なし）。例: `my_obj.my_method();`
*   **REPL**: 対話的な実行環境。
*   **基本的なオブジェクトシステム**: 整数、文字列、クラス、インスタンスを内部的に表現。
*   **環境 (スコープ)**: 変数やクラスの束縛を管理。メソッド呼び出し時には `self` が束縛された新しい環境が作成されます。
